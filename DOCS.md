<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# secretbin

```go
import "github.com/Nihility-io/SecretBin-Go/v2"
```

## Index

- [Variables](<#variables>)
- [type Attachment](<#Attachment>)
- [type Banner](<#Banner>)
- [type Client](<#Client>)
  - [func New\(endpoint string\) \(Client, error\)](<#New>)
- [type Config](<#Config>)
  - [func \(c \*Config\) ExpireOptionsSorted\(\) \[\]string](<#Config.ExpireOptionsSorted>)
  - [func \(c \*Config\) ExpiresSorted\(\) iter.Seq2\[string, Expires\]](<#Config.ExpiresSorted>)
- [type Expires](<#Expires>)
  - [func \(e Expires\) String\(\) string](<#Expires.String>)
- [type Options](<#Options>)
- [type Secret](<#Secret>)
  - [func \(s \*Secret\) AddAttachment\(name string, contentType string, data \[\]byte\)](<#Secret.AddAttachment>)
  - [func \(s \*Secret\) AddFileAttachment\(path string\) error](<#Secret.AddFileAttachment>)
- [type SecretBinError](<#SecretBinError>)
  - [func \(e \*SecretBinError\) Error\(\) string](<#SecretBinError.Error>)
  - [func \(e \*SecretBinError\) Is\(target error\) bool](<#SecretBinError.Is>)


## Variables

<a name="ErrInvalidExpirationTime"></a>

```go
var (
    // List of possible errors returned by the SecretBin API
    ErrInvalidExpirationTime = &SecretBinError{Name: "InvalidExpirationTime"}
    ErrSecretNotFound        = &SecretBinError{Name: "SecretNotFoundError"}
    ErrSecretAlreadyExists   = &SecretBinError{Name: "SecretAlreadyExistsError"}
    ErrSecretList            = &SecretBinError{Name: "SecretListError"}
    ErrSecretRead            = &SecretBinError{Name: "SecretReadError"}
    ErrSecretCreate          = &SecretBinError{Name: "SecretCreateError"}
    ErrSecretUpdate          = &SecretBinError{Name: "SecretUpdateError"}
    ErrSecretDelete          = &SecretBinError{Name: "SecretDeleteError"}
    ErrSecretParse           = &SecretBinError{Name: "SecretParseError"}
    ErrSecretPolicy          = &SecretBinError{Name: "SecretPolicyError"}
    ErrSecretSizeLimit       = &SecretBinError{Name: "SecretSizeLimitError"}
)
```

<a name="Attachment"></a>
## type [Attachment](<https://github.com/Nihility-io/SecretBin-Go/blob/main/content.go#L25-L29>)



```go
type Attachment struct {
    Name        string `json:"name"`        // Filename of the attachment
    ContentType string `json:"contentType"` // MIME type of the attachment
    Data        []byte `json:"data"`        // Binary data of the attachment
}
```

<a name="Banner"></a>
## type [Banner](<https://github.com/Nihility-io/SecretBin-Go/blob/main/config.go#L49-L52>)



```go
type Banner struct {
    Type string `json:"type"` // Type of the banner ("info", "warning", "error")
    Text string `json:"text"` // Text content of the banner
}
```

<a name="Client"></a>
## type [Client](<https://github.com/Nihility-io/SecretBin-Go/blob/main/secretbin.go#L7-L13>)



```go
type Client interface {
    // Config returns information about the SecretBin server.
    Config() *Config

    // SubmitSecret creates a new secret inside SecretBin and returns the access URL for said secret.
    SubmitSecret(secret Secret, options Options) (string, error)
}
```

<a name="New"></a>
### func [New](<https://github.com/Nihility-io/SecretBin-Go/blob/main/secretbin.go#L22>)

```go
func New(endpoint string) (Client, error)
```

New creates a new SecretBin client for the given endpoint. It retrieves the API information and configuration from the server to initialize the client.

<a name="Config"></a>
## type [Config](<https://github.com/Nihility-io/SecretBin-Go/blob/main/config.go#L10-L17>)



```go
type Config struct {
    Name           string             // Name of the SecretBin instance
    Endpoint       string             // Endpoint URL of the SecretBin server
    Version        string             // Version of the SecretBin server
    Banner         *Banner            // Optional banner displayed by the server
    Expires        map[string]Expires // Available expiration options for secrets
    DefaultExpires string             // Default expiration option for secrets
}
```

<a name="Config.ExpireOptionsSorted"></a>
### func \(\*Config\) [ExpireOptionsSorted](<https://github.com/Nihility-io/SecretBin-Go/blob/main/config.go#L38>)

```go
func (c *Config) ExpireOptionsSorted() []string
```

ExpiresOptionsSorted returns a slice of expiration option names sorted by their duration.

<a name="Config.ExpiresSorted"></a>
### func \(\*Config\) [ExpiresSorted](<https://github.com/Nihility-io/SecretBin-Go/blob/main/config.go#L20>)

```go
func (c *Config) ExpiresSorted() iter.Seq2[string, Expires]
```

ExpiresSorted returns an iterator that yields expiration options sorted by their duration.

<a name="Expires"></a>
## type [Expires](<https://github.com/Nihility-io/SecretBin-Go/blob/main/config.go#L54-L58>)



```go
type Expires struct {
    Count   int    `json:"count"`   // Number of units for this expiration option
    Unit    string `json:"unit"`    // Unit of time for this expiration option (e.g., "hr", "d", "w", "m", "y")
    Seconds int    `json:"seconds"` // Duration in seconds for this expiration option
}
```

<a name="Expires.String"></a>
### func \(Expires\) [String](<https://github.com/Nihility-io/SecretBin-Go/blob/main/config.go#L61>)

```go
func (e Expires) String() string
```

String returns a human\-readable representation of the expiration option.

<a name="Options"></a>
## type [Options](<https://github.com/Nihility-io/SecretBin-Go/blob/main/secretbin.go#L55-L68>)



```go
type Options struct {
    // Password is used as an additional security step along the the encryption key (optional)
    Password string

    // Expires is the expiration time for the secret.
    //
    // Use [Client.Config().Expires] to get the available options.
    Expires string

    // BurnAfter indicates after how many reads the secret should be deleted.
    //
    // 0 means no burn after reading.
    BurnAfter uint
}
```

<a name="Secret"></a>
## type [Secret](<https://github.com/Nihility-io/SecretBin-Go/blob/main/content.go#L20-L23>)



```go
type Secret struct {
    Message     string        `json:"message"`     // Text content of the secret
    Attachments []*Attachment `json:"attachments"` // Optional file attachments of the secret
}
```

<a name="Secret.AddAttachment"></a>
### func \(\*Secret\) [AddAttachment](<https://github.com/Nihility-io/SecretBin-Go/blob/main/content.go#L33>)

```go
func (s *Secret) AddAttachment(name string, contentType string, data []byte)
```

AddAttachment adds an attachment to the secret content. If the content type is not provided, it will be guessed based on the file extension.

<a name="Secret.AddFileAttachment"></a>
### func \(\*Secret\) [AddFileAttachment](<https://github.com/Nihility-io/SecretBin-Go/blob/main/content.go#L51>)

```go
func (s *Secret) AddFileAttachment(path string) error
```

AddFileAttachment reads a file from the given path and adds it as an attachment to the secret content. The content type is guessed based on the file extension.

<a name="SecretBinError"></a>
## type [SecretBinError](<https://github.com/Nihility-io/SecretBin-Go/blob/main/error.go#L22-L26>)



```go
type SecretBinError struct {
    Name    string `json:"name"`
    Message string `json:"message"`
    Status  int    `json:"status"`
}
```

<a name="SecretBinError.Error"></a>
### func \(\*SecretBinError\) [Error](<https://github.com/Nihility-io/SecretBin-Go/blob/main/error.go#L29>)

```go
func (e *SecretBinError) Error() string
```

Error marks the SecretBinError as an error type.

<a name="SecretBinError.Is"></a>
### func \(\*SecretBinError\) [Is](<https://github.com/Nihility-io/SecretBin-Go/blob/main/error.go#L34>)

```go
func (e *SecretBinError) Is(target error) bool
```

Is checks if the error matches the target error.

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
